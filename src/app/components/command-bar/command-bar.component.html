<div class="left">
  <button class="icon-button line-end" (click)="toggleCompactMode();"><i class="moon-Sidebar"></i></button>
</div>
<div class="right {{filterExtended ? 'extended' : ''}}">
  <form [formGroup]="filterForm">

    <div class="main-bar">
      <button class="icon-button show-in-taskbar-only" (click)="false;" tooltip="Refresh all Strategies"><i class="moon-Refresh"></i></button>

      <button class="icon-button line-start hide-in-taskbar" (click)="showCreateDialog();" tooltip="Add a new Session Strategy"><i class="moon-Add"></i></button>

      <button class="icon-button hide-in-taskbar {{filterExtended ? 'toggled-filter' : ''}}" (click)="toggleFilters();" tooltip="Filter the session list"><i class="moon-Filter"></i></button>

      <div class="form-control-input-icon">
        <input formControlName="searchFilter" type="text" class="form-control search-bar" placeholder="Search session" />
        <i class="fal fa-search"></i>
      </div>

      <button class="icon-button hide-in-taskbar" (click)="false;" tooltip="Refresh all Strategies"><i class="moon-Refresh"></i></button>

      <div class="line-end">
        <button class="icon-button" (click)="showOptionDialog();" tooltip="Show Leapp's options"><i class="moon-Settings"></i></button>
      </div>
    </div>

    <div class="tag-filters">
      <span class="left-shadow" *ngIf="overflowed"></span>
      <span class="right-shadow" *ngIf="overflowed"></span>
      <div class="tag-filters-area" #parent>

        <div #child>
          <input formControlName="dateFilter" type="checkbox" class="hidden" />
          <button class="toggle-button filter-button {{filterForm.get('dateFilter').value ? 'toggled' : ''}}" (click)="toggleDateFilter();"><i class="moon-Order"></i> Order by date</button>

          <app-filter-menu [control]="'providerFilter'" [data]="providers" [icon]="'moon-Cloud'" [name]="'Providers'" [form]="filterForm"></app-filter-menu>
          <app-filter-menu [control]="'profileFilter'" [data]="profiles" [icon]="'moon-User'" [name]="'Profile'" [form]="filterForm" [searchable]="true"></app-filter-menu>
          <app-filter-menu [control]="'regionFilter'" [data]="regions" [icon]="'moon-Region'" [name]="'Region'" [form]="filterForm" [searchable]="true"></app-filter-menu>
          <app-filter-menu [control]="'typeFilter'" [data]="types" [icon]="'moon-Bookmark'" [name]="'Type'" [form]="filterForm" [categories]="['Amazon AWS', 'Microsoft Azure']"></app-filter-menu>
        </div>
      </div>

      <a class="save-segments" (click)="openSaveSegmentDialog();" *ngIf="checkFormIsDirty();">Save{{compactMode ? '': ' Segments'}}</a>
    </div>

  </form>

</div>
<div class="clear"></div>
